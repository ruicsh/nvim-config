Improve the performance and readability of the given code.

- Reduce time complexity and/or space complexity.
- Simplify logic and eliminate redundant operations.
- Enhance code readability and maintainability.
- Preserve the current functionality and outputs.
